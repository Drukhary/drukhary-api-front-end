(this["webpackJsonpdrukhary-api-front-end"]=this["webpackJsonpdrukhary-api-front-end"]||[]).push([[0],{23:function(e,t,s){},24:function(e,t,s){},25:function(e,t,s){},26:function(e,t,s){},32:function(e,t,s){"use strict";s.r(t);var n=s(0),i=s.n(n),a=s(12),o=s.n(a),l=s(16),r=(s(23),s(3)),c=(s(24),s(25),s(4)),h=s(13),u=s(18),d=s(17),m=s(14),b=s.n(m),j=(s(26),s(1)),g=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(e){var n;return Object(c.a)(this,s),(n=t.call(this,e)).state={showIndex:!0,showBullets:!0,infinite:!0,showThumbnails:!0,showFullscreenButton:!0,showGalleryFullscreenButton:!0,showPlayButton:!0,showGalleryPlayButton:!1,showNav:!0,isRTL:!1,slideDuration:450,slideInterval:2e3,slideOnThumbnailOver:!1,thumbnailPosition:"top",showVideo:{},useWindowKeyDown:!0},n.images=n.props.images,n}return Object(h.a)(s,[{key:"_onImageClick",value:function(e){console.debug("clicked on image",e.target,"at index",this._imageGallery.getCurrentIndex())}},{key:"_onImageLoad",value:function(e){console.debug("loaded image",e.target.src)}},{key:"_onSlide",value:function(e){this._resetVideo(),console.debug("slid to index",e)}},{key:"_onPause",value:function(e){console.debug("paused on index",e)}},{key:"_onScreenChange",value:function(e){console.debug("isFullScreen?",!!e)}},{key:"_onPlay",value:function(e){console.debug("playing from index",e)}},{key:"_resetVideo",value:function(){this.setState({showVideo:{}}),this.state.showPlayButton&&this.setState({showGalleryPlayButton:!0}),this.state.showFullscreenButton&&this.setState({showGalleryFullscreenButton:!0})}},{key:"_toggleShowVideo",value:function(e){this.state.showVideo[e]=!Boolean(this.state.showVideo[e]),this.setState({showVideo:this.state.showVideo}),this.state.showVideo[e]&&(this.state.showPlayButton&&this.setState({showGalleryPlayButton:!1}),this.state.showFullscreenButton&&this.setState({showGalleryFullscreenButton:!1}))}},{key:"_renderVideo",value:function(e){return Object(j.jsx)("div",{children:this.state.showVideo[e.embedUrl]?Object(j.jsxs)("div",{className:"video-wrapper",children:[Object(j.jsx)("a",{className:"close-video",onClick:this._toggleShowVideo.bind(this,e.embedUrl)}),Object(j.jsx)("iframe",{title:e.title,width:"560",height:"315",src:e.embedUrl,frameBorder:"0",allowFullScreen:!0})]}):Object(j.jsxs)("a",{onClick:this._toggleShowVideo.bind(this,e.embedUrl),children:[Object(j.jsx)("div",{className:"play-button"}),Object(j.jsx)("img",{className:"image-gallery-image",src:e.original,alt:"I'm sorry"}),e.description&&Object(j.jsx)("span",{className:"image-gallery-description",style:{right:"0",left:"initial"},children:e.description})]})})}},{key:"render",value:function(){var e=this;return Object(j.jsx)("section",{className:"app",children:Object(j.jsx)(b.a,{ref:function(t){return e._imageGallery=t},items:this.images,onClick:this._onImageClick.bind(this),onImageLoad:this._onImageLoad,onSlide:this._onSlide.bind(this),onPause:this._onPause.bind(this),onScreenChange:this._onScreenChange.bind(this),onPlay:this._onPlay.bind(this),infinite:this.state.infinite,showBullets:this.state.showBullets,showFullscreenButton:this.state.showFullscreenButton&&this.state.showGalleryFullscreenButton,showPlayButton:this.state.showPlayButton&&this.state.showGalleryPlayButton,showThumbnails:this.state.showThumbnails,showIndex:this.state.showIndex,showNav:this.state.showNav,isRTL:this.state.isRTL,thumbnailPosition:this.state.thumbnailPosition,slideDuration:parseInt(this.state.slideDuration),slideInterval:parseInt(this.state.slideInterval),slideOnThumbnailOver:this.state.slideOnThumbnailOver,additionalClass:"app-image-gallery",useWindowKeyDown:this.state.useWindowKeyDown})})}}]),s}(n.Component),f=function(e){var t=e.index,s=e.title,n=e.description,i=e.images,a=e.dateCreated,o=e.keywords;return console.log(i),Object(j.jsxs)("li",{id:t,className:"list-group-item list-group-item-action flex-column align-items-start justify-content-center",children:[Object(j.jsx)("h5",{className:"mb-1",children:s}),o?Object(j.jsxs)("small",{className:"text-muted",children:["keywords: ",o.join(" ")]}):null,Object(j.jsx)("p",{className:"mb-1",children:n}),i.length?Object(j.jsx)(g,{images:i}):null,Object(j.jsx)("p",{children:Object(j.jsx)("small",{className:"text-muted",children:a})})]})},w=function(e){var t=e.posts.map((function(e,t){var s=e.data,n=s.title,i=s.description,a=s.date_created,o=s.keywords,l=e.image;return Object(j.jsx)(f,{index:t,title:n,images:[l],description:i,dateCreated:a,keywords:o})}));return Object(j.jsx)("div",{className:"justify-content-center row",children:Object(j.jsx)("ul",{className:"post-list list-group col-md-8",children:Array.isArray(t)&&t.length?t:null})})},y=function e(){var t=this;Object(c.a)(this,e),this._baseApi="https://images-api.nasa.gov/",this.getSearch=function(e){var s=t._baseApi;return fetch("".concat(s,"search?q=").concat(e,"&page=1&media_type=image")).then((function(e){return e.json()})).then((function(e){var t=e.collection;return Promise.all(t.items.map((function(e){return(null===e||void 0===e?void 0:e.href)?fetch(e.href).then((function(e){return e.json()})).then((function(e){return e.slice(1,-1)})).then((function(t){return{data:e.data[0],image:{original:t[0],thumbnail:t[t.length-1]}}})):new Promise((function(e){return e("no image")}))})))})).catch((function(e){return e}))}},p=function(e){var t=e.setSearch,s=Object(n.useState)(""),i=Object(r.a)(s,2),a=i[0],o=i[1];return Object(j.jsxs)("div",{className:"form-group",children:[Object(j.jsx)("label",{className:"col-form-label mt-4",htmlFor:"searchPanel",children:"Enter the name of the space object"}),Object(j.jsx)("input",{type:"text",className:"form-control",placeholder:"star",id:"searchPanel","data-dashlane-rid":"e6ebd68441b8e168","data-form-type":"other",value:a,onChange:function(e){return o(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&t(a)}})]})},O=function(){var e=Object(n.useState)([]),t=Object(r.a)(e,2),s=t[0],i=t[1],a=Object(n.useState)(""),o=Object(r.a)(a,2),l=o[0],c=o[1];return Object(n.useEffect)((function(){return(new y).getSearch(l).then((function(e){console.log(e),i(e.slice(0,5))})),function(){return i([])}}),[l]),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)(p,{setSearch:c}),Object(j.jsx)(w,{posts:s})]})};o.a.render(Object(j.jsx)(i.a.StrictMode,{children:Object(j.jsx)(l.a,{children:Object(j.jsx)(O,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.b9237392.chunk.js.map